<% layout("/layouts/dialog", {
	scripts: ["jednostka/createUser"]
}) %>
<h1>
	<i>person_add</i>
	Tworzenie użytkownika
</h1>
<main>
	<form>
		<label for="first-name-input">Imię:</label>
		<input type="text" id="first-name-input" name="firstName" autocomplete="off">
		<label for="last-name-input">Nazwisko:</label>
		<input type="text" id="last-name-input" name="lastName" autocomplete="off">
		<label for="jednostka-select"<%= $.jednostki.length == 1 ? "hidden" : "" %>>Jednostka:</label>
		<select id="jednostka-select" name="jednostkaID" <%= $.jednostki.length == 1 ? "hidden" : "" %>>
			<% for(const jednostka of $.jednostki) { %>
				<option value="<%= jednostka.id %>"><%= jednostka.displayName %></option>
			<% } %>
		</select>
	</form>
	<% if ($.jednostki.length == 1) { %>
		<p>Użytkownik zostanie dodany do <%= $.jednostki[0].displayName %>.</p>
	<% } %>
	
	<h2>Dodatkowe konta</h2>
	<form>
		<input type="checkbox" id="parent-create" name="createParent"
			<% if($.jednostki[0].type <= JednostkaType.DRUŻYNA) { %>
				checked
			<% } %>
		>
		<label for="parent-create">Utwórz również konto dla rodzica / opiekuna</label>
	</form>
</main>
<hr>
<div class="button-row">
	<button onclick="dialog.close()">
		<i>arrow_back</i>
		Anuluj
	</button>
	<button id="mianowanie-button" api="jednostka/[jednostkaID]/member/create">
		<i>person_add</i>
		<span>Dodaj użytkownika</span>
	</button>
</div>